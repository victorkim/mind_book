<p style="color: green"><%= notice %></p>

<%= render 'projects/project_detail', project: @project %>

<hr class="separator">

<%= render partial: 'shared/timeline', locals: { timeline_type: @timeline_type, week_starts: @weeks_data.map { |week| week[:week_start] }, timeline_data: @weeks_data } %>

<hr class="separator">

<div>
  <% if user_signed_in? %>
    <%= render 'comments/comments_new_form', parent: @project, comment: Comment.new %>
  <% else %>
    <%= link_to "Login to add, edit or delete a comment", new_user_session_path, class: "btn btn-primary" %>
  <% end %>
</div>

<div id="comments-list">
  <%= render 'comments/comments_list', parent: @project, comments: @comments %> <%# @project.comments means: "pass the collection of comments from @project.comments as the local variable comments to the partial." This makes comments (with an "s") available within the partial. %>
</div>