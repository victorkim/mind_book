<p style="color: green"><%= notice %></p>

<% if @projects.empty? %>
  <h1 class="page-title">No Projects yet</h1>
<% else %>
  <h1 class="page-title">All Projects</h1>
<% end %>

<!-- Add Filter Toggle -->
<div class="filter-toggle" style="margin: 20px 0; text-align: center;">
  <%= link_to "All Projects", projects_path, 
      class: "btn #{params[:filter].nil? ? 'btn-primary' : 'btn-secondary'}", 
      style: "margin: 0 5px;" %>
  <%= link_to "Demo Only", projects_path(filter: 'demo'), 
      class: "btn #{params[:filter] == 'demo' ? 'btn-primary' : 'btn-secondary'}", 
      style: "margin: 0 5px;" %>
  <%= link_to "Real Only", projects_path(filter: 'real'), 
      class: "btn #{params[:filter] == 'real' ? 'btn-primary' : 'btn-secondary'}", 
      style: "margin: 0 5px;" %>
</div>

<div class="new-project-prompt">
	<% if user_signed_in? %>
		<p>
			<div class="button">
        <%= link_to "Create Project", new_project_path, data: { turbo_frame: "new_project_modal" } %>
      </div>
		</p>
		<% else %>
			<%= link_to "Login to create a Project", new_user_session_path, class: "btn btn-primary" %>
	<% end %>
</div>

<hr class="separator">

<div id="projects_timeline">
  <%= render partial: 'shared/timeline', locals: { timeline_type: @timeline_type, week_starts: @week_starts, timeline_data: @timeline_data } %>
</div>
    
<hr class="separator">

<div id="all-projects" class="projects-grid">
  <% @projects.each do |project| %>
    <%= render 'project_card', project: project%>
  <% end %>
</div>