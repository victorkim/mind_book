<%= turbo_frame_tag "weekly_comments_modal" do %>
  <div class="modal" data-controller="modal" data-modal-target="modal">

		<h2>Comments for <%= project.name %></h2>

		<ul>
			<% comments.each do |comment| %> <%# iterating over this comments variable (which is equal to @project.comments in this case). That's why the loop in your partial is using comments.each: %>
				<div id="comment_<%= comment.id %>_list"> <!-- Unique ID for each comment -->
					<% if comment.user %>
						<strong><%= comment.user.name %></strong>: <span class="comment-body"><%= raw comment.body.to_s %></span>
					<% else %>
						<strong>Anonymous</strong>: <span class="comment-body"><%= raw comment.body.to_s %></span>
					<% end %>
					
					<div>
						<% if comment.persisted? %>  <!-- Only show the edit link for saved comments -->
							<div class="created-date">
								<%= comment.created_at.strftime("%B %d, %Y") %>
							</div>
						<% end %>
					</div>    
				</div>  
			<% end %>
		</ul>
		<div>
      <%= link_to "Cancel", "#", data: { action: "modal#close" }, class: "cancel-button" %>
    </div>
	</div>
<% end %>